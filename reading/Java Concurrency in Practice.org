* Java 并发编程实战

* TODO 第一章 简介

* TODO 第一部分 基础知识                                               :部分:

* DONE 第二章 线程安全

+ [X] 线程安全两个重要概念
  - 共享 :: 多个线程同时访问
  - 可变 :: 对象的状态(也就是变量)是可变的
  - [X] 引申出来
    - [X] 如果向确保线程安全,从三个方面入手:不共享,不可变或者使用同步机制
+ [ ] 线程安全的类
  + [ ] 无状态的类,没有用于共享的可变状态
    + [ ] 也可以理解为没有成员变量的意思(变量如果可变)
+ [ ] 竞态条件 :: 就是多线程中同时访问一条数据造成的数据失效
+ [ ] 需要同步
  + 存在一个可变状态,如果这时候包含了一个静态条件,那么会产生同步问题
    + 将可变态变为不可变态,也就是将变量变为线程安全类即可,竞态条件使用安全方法
    + 就是变态变为不变态,竞态变为非竞态
    + 但并不完全正确
  + 当存在多个不变态时,多个竞态条件使多个不变态在这个对象中成为了一个变态,也会产生同步问题
    + 由于多个竞争条件会使各个线程中的多个不变态的状态不同
    + 所以需要对多个竞态条件进行加锁,使其变为一个原子操作,也就是非竞态条件
    + 由于竞态变为了非竞态,所以复合的变态就变回了非变态(获取的时候还是要加锁)
  + 当组合使用两个非竞态的方法时(添加了同步),此时会产生竞态,也就是产生同步问题
    + 一般是在对象外,应该再使用同步即可
  + 变态变为不变态的原因在于竞态条件的消除,而与变态无关
    + 所以以上三个,1为通过线程安全类消除了竞态条件
    + 2为通过同步代码块消除了竞态条件
    + 3为通过同步代码块消除了竞态条件
